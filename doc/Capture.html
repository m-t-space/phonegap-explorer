
<!DOCTYPE html>
<!--
    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.
--><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width">
<meta name="generator" content="joDoc">
<title>Apache Cordova API Documentation</title>
<link rel="stylesheet" type="text/css" href="index.css">
<link rel="stylesheet" type="text/css" href="mobile.css" media="only screen and (max-device-width: 1024px)">
<link rel="stylesheet" type="text/css" href="prettify/prettify.css">
</head>
<body>

        <div id="wrapper">
<div id="content">
				<h1><a name="Capture">Capture</a></h1>

<blockquote>
  <p>Provides access to the audio, image, and video capture capabilities of the device.</p>
</blockquote>

<h2>
<a name="Capture_objects">Objects</a>
</h2>

<ul>
<li><a href="cordova_media_capture_capture.md.html#Capture">Capture</a></li>
<li><a href="cordova_media_capture_capture.md.html#CaptureAudioOptions">CaptureAudioOptions</a></li>
<li><a href="cordova_media_capture_capture.md.html#CaptureImageOptions">CaptureImageOptions</a></li>
<li><a href="cordova_media_capture_capture.md.html#CaptureVideoOptions">CaptureVideoOptions</a></li>
<li><a href="cordova_media_capture_capture.md.html#CaptureCB">CaptureCB</a></li>
<li><a href="cordova_media_capture_capture.md.html#CaptureErrorCB">CaptureErrorCB</a></li>
<li><a href="cordova_media_capture_capture.md.html#ConfigurationData">ConfigurationData</a></li>
<li><a href="cordova_media_capture_capture.md.html#MediaFile">MediaFile</a></li>
<li><a href="cordova_media_capture_capture.md.html#MediaFileData">MediaFileData</a></li>
</ul>
<h2>
<a name="Capture_methods">Methods</a>
</h2>

<ul>
<li><a href="cordova_media_capture_capture.md.html#capture.captureAudio">capture.captureAudio</a></li>
<li><a href="cordova_media_capture_capture.md.html#capture.captureImage">capture.captureImage</a></li>
<li><a href="cordova_media_capture_capture.md.html#capture.captureVideo">capture.captureVideo</a></li>
<li><a href="cordova_media_capture_capture.md.html#MediaFile.getFormatData">MediaFile.getFormatData</a></li>
</ul>
<h2>
<a name="Capture_scope">Scope</a>
</h2>

<p>The <strong>capture</strong> object is assigned to the <strong>navigator.device</strong> object, and therefore has global scope.</p>

<pre class="prettyprint"><code><span class="com">// The global capture object</span><span class="pln"><br></span><span class="kwd">var</span><span class="pln"> capture </span><span class="pun">=</span><span class="pln"> navigator</span><span class="pun">.</span><span class="pln">device</span><span class="pun">.</span><span class="pln">capture</span><span class="pun">;</span><span class="pln"><br></span></code></pre>

<h2>
<a name="Capture_properties">Properties</a>
</h2>

<ul>
<li>
<strong>supportedAudioModes:</strong> The audio recording formats supported by the device. (<a href="cordova_media_capture_capture.md.html#ConfigurationData">ConfigurationData</a>[])</li>
<li>
<strong>supportedImageModes:</strong> The recording image sizes and formats supported by the device. (<a href="cordova_media_capture_capture.md.html#ConfigurationData">ConfigurationData</a>[])</li>
<li>
<strong>supportedVideoModes:</strong> The recording video resolutions and formats supported by the device. (<a href="cordova_media_capture_capture.md.html#ConfigurationData">ConfigurationData</a>[])</li>
</ul>
<h2>
<a name="Capture_methods">Methods</a>
</h2>

<ul>
<li>
<a href="cordova_media_capture_capture.md.html#capture.captureAudio">capture.captureAudio</a>: Launch the device audio recording application for recording audio clip(s).</li>
<li>
<a href="cordova_media_capture_capture.md.html#capture.captureImage">capture.captureImage</a>: Launch the device camera application for taking image(s).</li>
<li>
<a href="cordova_media_capture_capture.md.html#capture.captureVideo">capture.captureVideo</a>: Launch the device video recorder application for recording video(s).</li>
</ul>
<h2>
<a name="Capture_supported_platforms">Supported Platforms</a>
</h2>

<ul>
<li>Android</li>
<li>BlackBerry WebWorks (OS 5.0 and higher)</li>
<li>iOS</li>
<li>Windows Phone 7 and 8</li>
<li>Windows 8</li>
</ul>
<h2>
<a name="Capture_permissions">Permissions</a>
</h2>

<h3>Android</h3>

<h4>app/res/xml/plugins.xml</h4>

<pre class="prettyprint"><code><span class="tag">&lt;plugin</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"</span><a href="cordova_media_capture_capture.md.html#Capture"><span class="atv">Capture</span></a><span class="atv">"</span><span class="pln"> </span><span class="atn">value</span><span class="pun">=</span><span class="atv">"org.apache.cordova.</span><a href="cordova_media_capture_capture.md.html#Capture"><span class="atv">Capture</span></a><span class="atv">"</span><span class="tag">/&gt;</span><span class="pln"><br></span></code></pre>

<h4>app/AndroidManifest.xml</h4>

<pre class="prettyprint"><code><span class="tag">&lt;uses-permission</span><span class="pln"> </span><span class="atn">android:name</span><span class="pun">=</span><span class="atv">"android.permission.RECORD_AUDIO"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln"><br></span><span class="tag">&lt;uses-permission</span><span class="pln"> </span><span class="atn">android:name</span><span class="pun">=</span><span class="atv">"android.permission.WRITE_EXTERNAL_STORAGE"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln"><br></span></code></pre>

<h3>Bada</h3>

<h4>manifest.xml</h4>

<pre class="prettyprint"><code><span class="tag">&lt;Privilege&gt;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="tag">&lt;Name&gt;</span><span class="pln">RECORDING</span><span class="tag">&lt;/Name&gt;</span><span class="pln"><br></span><span class="tag">&lt;/Privilege&gt;</span><span class="pln"><br></span></code></pre>

<h3>BlackBerry WebWorks</h3>

<h4>www/plugins.xml</h4>

<pre class="prettyprint"><code><span class="tag">&lt;plugin</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"</span><a href="cordova_media_capture_capture.md.html#Capture"><span class="atv">Capture</span></a><span class="atv">"</span><span class="pln"> </span><span class="atn">value</span><span class="pun">=</span><span class="atv">"org.apache.cordova.capture.MediaCapture"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln"><br></span></code></pre>

<h4>www/config.xml</h4>

<pre class="prettyprint"><code><span class="tag">&lt;feature</span><span class="pln"> </span><span class="atn">id</span><span class="pun">=</span><span class="atv">"blackberry.system"</span><span class="pln"> &nbsp;</span><span class="atn">required</span><span class="pun">=</span><span class="atv">"true"</span><span class="pln"> </span><span class="atn">version</span><span class="pun">=</span><span class="atv">"1.0.0.0"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln"><br></span><span class="tag">&lt;feature</span><span class="pln"> </span><span class="atn">id</span><span class="pun">=</span><span class="atv">"blackberry.io.file"</span><span class="pln"> </span><span class="atn">required</span><span class="pun">=</span><span class="atv">"true"</span><span class="pln"> </span><span class="atn">version</span><span class="pun">=</span><span class="atv">"1.0.0.0"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln"><br></span></code></pre>

<h3>iOS</h3>

<h4>config.xml</h4>

<pre class="prettyprint"><code><span class="tag">&lt;plugin</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"</span><a href="cordova_media_capture_capture.md.html#Capture"><span class="atv">Capture</span></a><span class="atv">"</span><span class="pln"> </span><span class="atn">value</span><span class="pun">=</span><span class="atv">"CDVCapture"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln"><br></span></code></pre>

<h3>webOS</h3>

<pre class="prettyprint"><code><span class="typ">No</span><span class="pln"> permissions are required</span><span class="pun">.</span><span class="pln"><br></span></code></pre>

<h3>Windows Phone</h3>

<h4>Properties/WPAppManifest.xml</h4>

<pre class="prettyprint"><code><span class="tag">&lt;Capabilities&gt;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="tag">&lt;Capability</span><span class="pln"> </span><span class="atn">Name</span><span class="pun">=</span><span class="atv">"ID_CAP_MEDIALIB"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="tag">&lt;Capability</span><span class="pln"> </span><span class="atn">Name</span><span class="pun">=</span><span class="atv">"ID_CAP_MICROPHONE"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="tag">&lt;Capability</span><span class="pln"> </span><span class="atn">Name</span><span class="pun">=</span><span class="atv">"ID_HW_FRONTCAMERA"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="tag">&lt;Capability</span><span class="pln"> </span><span class="atn">Name</span><span class="pun">=</span><span class="atv">"ID_CAP_ISV_CAMERA"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="tag">&lt;Capability</span><span class="pln"> </span><span class="atn">Name</span><span class="pun">=</span><span class="atv">"ID_CAP_CAMERA"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln"><br></span><span class="tag">&lt;/Capabilities&gt;</span><span class="pln"><br></span></code></pre>

<hr>
<h1><a name="capture.captureAudio">capture.captureAudio</a></h1>

<blockquote>
  <p>Start the audio recorder application and return information about captured audio clip file(s).</p>
</blockquote>

<pre class="prettyprint"><code><span class="pln">navigator</span><span class="pun">.</span><span class="pln">device</span><span class="pun">.</span><a href="cordova_media_capture_capture.md.html#capture.captureAudio"><span class="pln">capture</span><span class="pun">.</span><span class="pln">captureAudio</span></a><span class="pun">(</span><span class="pln"> <br>&nbsp; &nbsp; </span><a href="cordova_media_capture_capture.md.html#CaptureCB"><span class="typ">CaptureCB</span></a><span class="pln"> captureSuccess</span><span class="pun">,</span><span class="pln"> </span><a href="cordova_media_capture_capture.md.html#CaptureErrorCB"><span class="typ">CaptureErrorCB</span></a><span class="pln"> captureError</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="pun">[</span><a href="cordova_media_capture_capture.md.html#CaptureAudioOptions"><span class="typ">CaptureAudioOptions</span></a><span class="pln"> options</span><span class="pun">]</span><span class="pln"><br></span><span class="pun">);</span><span class="pln"><br></span></code></pre>

<h2>
<a name="capture.captureAudio_description">Description</a>
</h2>

<p>This method starts an asynchronous operation to capture audio recordings using the device's default audio recording application.  The operation allows the device user to capture multiple recordings in a single session.</p>

<p>The capture operation ends when either the user exits the audio recording application, or the maximum number of recordings, specified by the <strong>limit</strong> parameter in <a href="cordova_media_capture_capture.md.html#CaptureAudioOptions">CaptureAudioOptions</a>, has been reached.  If no value is provided for the <strong>limit</strong> parameter, a default value of one (1) is used, and the capture operation will terminate after the user records a single audio clip.</p>

<p>When the capture operation is finished, it will invoke the <a href="cordova_media_capture_capture.md.html#CaptureCB">CaptureCB</a> callback with an array of <a href="cordova_media_capture_capture.md.html#MediaFile">MediaFile</a> objects describing each captured audio clip file.  If the operation is terminated by the user before an audio clip is captured, the <a href="cordova_media_capture_capture.md.html#CaptureErrorCB">CaptureErrorCB</a> callback will be invoked with a <a href="cordova_media_capture_capture.md.html#CaptureError">CaptureError</a> object with the <a href="cordova_media_capture_capture.md.html#CaptureError">CaptureError</a>.<code>CAPTURE_NO_MEDIA_FILES</code> error code.</p>

<h2>
<a name="capture.captureAudio_supported_platforms">Supported Platforms</a>
</h2>

<ul>
<li>Android</li>
<li>BlackBerry WebWorks (OS 5.0 and higher)</li>
<li>iOS</li>
<li>Windows Phone 7 and 8</li>
<li>Windows 8</li>
</ul>
<h2>
<a name="capture.captureAudio_quick_example">Quick Example</a>
</h2>

<pre class="prettyprint"><code><span class="com">// capture callback</span><span class="pln"><br></span><span class="kwd">var</span><span class="pln"> captureSuccess </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">mediaFiles</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">var</span><span class="pln"> i</span><span class="pun">,</span><span class="pln"> path</span><span class="pun">,</span><span class="pln"> len</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="pln">i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> len </span><span class="pun">=</span><span class="pln"> mediaFiles</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> len</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">+=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; path </span><span class="pun">=</span><span class="pln"> mediaFiles</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">fullPath</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// do something interesting with the file</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">};</span><span class="pln"><br><br></span><span class="com">// capture error callback</span><span class="pln"><br></span><span class="kwd">var</span><span class="pln"> captureError </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">error</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; navigator</span><span class="pun">.</span><a href="cordova_notification_notification.md.html#notification.alert"><span class="pln">notification</span><span class="pun">.</span><span class="pln">alert</span></a><span class="pun">(</span><span class="str">'Error code: '</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> error</span><span class="pun">.</span><span class="pln">code</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="str">'</span><a href="cordova_media_capture_capture.md.html#Capture"><span class="str">Capture</span></a><span class="str"> Error'</span><span class="pun">);</span><span class="pln"><br></span><span class="pun">};</span><span class="pln"><br><br></span><span class="com">// start audio capture</span><span class="pln"><br>navigator</span><span class="pun">.</span><span class="pln">device</span><span class="pun">.</span><a href="cordova_media_capture_capture.md.html#capture.captureAudio"><span class="pln">capture</span><span class="pun">.</span><span class="pln">captureAudio</span></a><span class="pun">(</span><span class="pln">captureSuccess</span><span class="pun">,</span><span class="pln"> captureError</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">limit</span><span class="pun">:</span><span class="lit">2</span><span class="pun">});</span><span class="pln"><br></span></code></pre>

<h2>
<a name="capture.captureAudio_full_example">Full Example</a>
</h2>

<pre class="prettyprint"><code><span class="dec">&lt;!DOCTYPE html&gt;</span><span class="pln"><br></span><span class="tag">&lt;html&gt;</span><span class="pln"><br>&nbsp; </span><span class="tag">&lt;head&gt;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="tag">&lt;title&gt;</span><a href="cordova_media_capture_capture.md.html#Capture"><span class="pln">Capture</span></a><span class="pln"> Audio</span><span class="tag">&lt;/title&gt;</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"text/javascript"</span><span class="pln"> </span><span class="atn">charset</span><span class="pun">=</span><span class="atv">"utf-8"</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"cordova-x.x.x.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"text/javascript"</span><span class="pln"> </span><span class="atn">charset</span><span class="pun">=</span><span class="atv">"utf-8"</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"json2.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"text/javascript"</span><span class="pln"> </span><span class="atn">charset</span><span class="pun">=</span><span class="atv">"utf-8"</span><span class="tag">&gt;</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// Called when capture operation is finished</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="com">//</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">function</span><span class="pln"> captureSuccess</span><span class="pun">(</span><span class="pln">mediaFiles</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">var</span><span class="pln"> i</span><span class="pun">,</span><span class="pln"> len</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="pln">i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> len </span><span class="pun">=</span><span class="pln"> mediaFiles</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> len</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">+=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; uploadFile</span><span class="pun">(</span><span class="pln">mediaFiles</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"> &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// Called if something bad happens.</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="com">// </span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">function</span><span class="pln"> captureError</span><span class="pun">(</span><span class="pln">error</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">var</span><span class="pln"> msg </span><span class="pun">=</span><span class="pln"> </span><span class="str">'An error occurred during capture: '</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> error</span><span class="pun">.</span><span class="pln">code</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; navigator</span><span class="pun">.</span><a href="cordova_notification_notification.md.html#notification.alert"><span class="pln">notification</span><span class="pun">.</span><span class="pln">alert</span></a><span class="pun">(</span><span class="pln">msg</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="str">'Uh oh!'</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// A button will call this function</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="com">//</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">function</span><span class="pln"> captureAudio</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Launch device audio recording application, </span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// allowing user to capture up to 2 audio clips</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; navigator</span><span class="pun">.</span><span class="pln">device</span><span class="pun">.</span><a href="cordova_media_capture_capture.md.html#capture.captureAudio"><span class="pln">capture</span><span class="pun">.</span><span class="pln">captureAudio</span></a><span class="pun">(</span><span class="pln">captureSuccess</span><span class="pun">,</span><span class="pln"> captureError</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">limit</span><span class="pun">:</span><span class="pln"> </span><span class="lit">2</span><span class="pun">});</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// Upload files to server</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">function</span><span class="pln"> uploadFile</span><span class="pun">(</span><span class="pln">mediaFile</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">var</span><span class="pln"> ft </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><a href="cordova_file_file.md.html#FileTransfer"><span class="typ">FileTransfer</span></a><span class="pun">(),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; path </span><span class="pun">=</span><span class="pln"> mediaFile</span><span class="pun">.</span><span class="pln">fullPath</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; name </span><span class="pun">=</span><span class="pln"> mediaFile</span><span class="pun">.</span><span class="pln">name</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; ft</span><span class="pun">.</span><span class="pln">upload</span><span class="pun">(</span><span class="pln">path</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="str">"http://my.domain.com/upload.php"</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">result</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">'Upload success: '</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> result</span><span class="pun">.</span><span class="pln">responseCode</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">result</span><span class="pun">.</span><span class="pln">bytesSent </span><span class="pun">+</span><span class="pln"> </span><span class="str">' bytes sent'</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">},</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">error</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">'Error uploading file '</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> path </span><span class="pun">+</span><span class="pln"> </span><span class="str">': '</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> error</span><span class="pun">.</span><span class="pln">code</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">},</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"> fileName</span><span class="pun">:</span><span class="pln"> name </span><span class="pun">});</span><span class="pln"> &nbsp; <br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="tag">&lt;/script&gt;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="tag">&lt;/head&gt;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="tag">&lt;body&gt;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="tag">&lt;button</span><span class="pln"> </span><span class="atn">onclick</span><span class="pun">=</span><span class="atv">"</span><span class="pln">captureAudio</span><span class="pun">();</span><span class="atv">"</span><span class="tag">&gt;</span><a href="cordova_media_capture_capture.md.html#Capture"><span class="pln">Capture</span></a><span class="pln"> Audio</span><span class="tag">&lt;/button&gt;</span><span class="pln"> </span><span class="tag">&lt;br&gt;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="tag">&lt;/body&gt;</span><span class="pln"><br></span><span class="tag">&lt;/html&gt;</span><span class="pln"><br></span></code></pre>

<h2>
<a name="capture.captureAudio_blackberry_webworks_quirks">BlackBerry WebWorks Quirks</a>
</h2>

<ul>
<li>Cordova for BlackBerry WebWorks attempts to launch the <strong>Voice Notes Recorder</strong> application, provided by RIM, to capture the audio recordings.  The developer will receive a <a href="cordova_media_capture_capture.md.html#CaptureError">CaptureError</a>.<code>CAPTURE_NOT_SUPPORTED</code> error code if the application is not installed on the device.</li>
</ul>
<h2>
<a name="capture.captureAudio_ios_quirks">iOS Quirks</a>
</h2>

<ul>
<li>iOS does not have a default audio recording application so a simple user interface is provided.</li>
</ul>
<h2>
<a name="capture.captureAudio_windows_phone_7_and_8_quirks">Windows Phone 7 and 8 Quirks</a>
</h2>

<ul>
<li>Windows Phone 7 does not have a default audio recording application so a simple user interface is provided.</li>
</ul>
<hr>
<h1><a name="CaptureAudioOptions">CaptureAudioOptions</a></h1>

<blockquote>
  <p>Encapsulates audio capture configuration options.</p>
</blockquote>

<h2>
<a name="CaptureAudioOptions_properties">Properties</a>
</h2>

<ul>
<li>
<strong>limit:</strong> The maximum number of audio clips the device user can record in a single capture operation.  The value must be greater than or equal to 1 (defaults to 1).</li>
<li>
<strong>duration:</strong> The maximum duration of an audio sound clip, in seconds.</li>
</ul>
<h2>
<a name="CaptureAudioOptions_quick_example">Quick Example</a>
</h2>

<pre class="prettyprint"><code><span class="com">// limit capture operation to 3 media files, no longer than 10 seconds each</span><span class="pln"><br></span><span class="kwd">var</span><span class="pln"> options </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> limit</span><span class="pun">:</span><span class="pln"> </span><span class="lit">3</span><span class="pun">,</span><span class="pln"> duration</span><span class="pun">:</span><span class="pln"> </span><span class="lit">10</span><span class="pln"> </span><span class="pun">};</span><span class="pln"><br><br>navigator</span><span class="pun">.</span><span class="pln">device</span><span class="pun">.</span><a href="cordova_media_capture_capture.md.html#capture.captureAudio"><span class="pln">capture</span><span class="pun">.</span><span class="pln">captureAudio</span></a><span class="pun">(</span><span class="pln">captureSuccess</span><span class="pun">,</span><span class="pln"> captureError</span><span class="pun">,</span><span class="pln"> options</span><span class="pun">);</span><span class="pln"><br></span></code></pre>

<h2>
<a name="CaptureAudioOptions_android_quirks">Android Quirks</a>
</h2>

<ul>
<li>The <strong>duration</strong> parameter is not supported.  Recording lengths cannot be limited programmatically.</li>
</ul>
<h2>
<a name="CaptureAudioOptions_blackberry_webworks_quirks">BlackBerry WebWorks Quirks</a>
</h2>

<ul>
<li>The <strong>duration</strong> parameter is not supported.  Recording lengths cannot be limited programmatically.</li>
</ul>
<h2>
<a name="CaptureAudioOptions_ios_quirks">iOS Quirks</a>
</h2>

<ul>
<li>The <strong>limit</strong> parameter is not supported. One recording can be created for each invocation.</li>
</ul>
<hr>
<h1><a name="capture.captureImage">capture.captureImage</a></h1>

<blockquote>
  <p>Start the camera application and return information about captured image file(s).</p>
</blockquote>

<pre class="prettyprint"><code><span class="pln">navigator</span><span class="pun">.</span><span class="pln">device</span><span class="pun">.</span><a href="cordova_media_capture_capture.md.html#capture.captureImage"><span class="pln">capture</span><span class="pun">.</span><span class="pln">captureImage</span></a><span class="pun">(</span><span class="pln"> <br>&nbsp; &nbsp; </span><a href="cordova_media_capture_capture.md.html#CaptureCB"><span class="typ">CaptureCB</span></a><span class="pln"> captureSuccess</span><span class="pun">,</span><span class="pln"> </span><a href="cordova_media_capture_capture.md.html#CaptureErrorCB"><span class="typ">CaptureErrorCB</span></a><span class="pln"> captureError</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><a href="cordova_media_capture_capture.md.html#CaptureImageOptions"><span class="typ">CaptureImageOptions</span></a><span class="pln"> options</span><span class="pun">]</span><span class="pln"><br></span><span class="pun">);</span><span class="pln"><br></span></code></pre>

<h2>
<a name="capture.captureImage_description">Description</a>
</h2>

<p>This method starts an asynchronous operation to capture images using the device camera application.  The operation allows the device user to capture multiple images in a single session.</p>

<p>The capture operation ends when either the user exits the camera application, or the maximum number of images, specified by the <strong>limit</strong> parameter in <a href="cordova_media_capture_capture.md.html#CaptureImageOptions">CaptureImageOptions</a>, has been reached.  If no value is provided for the <strong>limit</strong> parameter, a default value of one (1) is used, and the capture operation will terminate after the user captures a single image.</p>

<p>When the capture operation is finished, it will invoke the <a href="cordova_media_capture_capture.md.html#CaptureCB">CaptureCB</a> callback with an array of <a href="cordova_media_capture_capture.md.html#MediaFile">MediaFile</a> objects describing each captured image file.  If the operation is terminated by the user before an image is captured, the <a href="cordova_media_capture_capture.md.html#CaptureErrorCB">CaptureErrorCB</a> callback will be invoked with a <a href="cordova_media_capture_capture.md.html#CaptureError">CaptureError</a> object with the <a href="cordova_media_capture_capture.md.html#CaptureError">CaptureError</a>.<code>CAPTURE_NO_MEDIA_FILES</code> error code.</p>

<h2>
<a name="capture.captureImage_supported_platforms">Supported Platforms</a>
</h2>

<ul>
<li>Android</li>
<li>BlackBerry WebWorks (OS 5.0 and higher)</li>
<li>iOS</li>
<li>Windows Phone 7 and 8</li>
<li>Bada 2.x</li>
<li>Windows 8</li>
</ul>
<h2>
<a name="capture.captureImage_windows_phone_7_quirks">Windows Phone 7 Quirks</a>
</h2>

<p>Invoking the native camera application while your device is connected
via Zune will not work, and the error callback will be triggered.</p>

<h2>
<a name="capture.captureImage_quick_example">Quick Example</a>
</h2>

<pre class="prettyprint"><code><span class="com">// capture callback</span><span class="pln"><br></span><span class="kwd">var</span><span class="pln"> captureSuccess </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">mediaFiles</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">var</span><span class="pln"> i</span><span class="pun">,</span><span class="pln"> path</span><span class="pun">,</span><span class="pln"> len</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="pln">i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> len </span><span class="pun">=</span><span class="pln"> mediaFiles</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> len</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">+=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; path </span><span class="pun">=</span><span class="pln"> mediaFiles</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">fullPath</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// do something interesting with the file</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">};</span><span class="pln"><br><br></span><span class="com">// capture error callback</span><span class="pln"><br></span><span class="kwd">var</span><span class="pln"> captureError </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">error</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; navigator</span><span class="pun">.</span><a href="cordova_notification_notification.md.html#notification.alert"><span class="pln">notification</span><span class="pun">.</span><span class="pln">alert</span></a><span class="pun">(</span><span class="str">'Error code: '</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> error</span><span class="pun">.</span><span class="pln">code</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="str">'</span><a href="cordova_media_capture_capture.md.html#Capture"><span class="str">Capture</span></a><span class="str"> Error'</span><span class="pun">);</span><span class="pln"><br></span><span class="pun">};</span><span class="pln"><br><br></span><span class="com">// start image capture</span><span class="pln"><br>navigator</span><span class="pun">.</span><span class="pln">device</span><span class="pun">.</span><a href="cordova_media_capture_capture.md.html#capture.captureImage"><span class="pln">capture</span><span class="pun">.</span><span class="pln">captureImage</span></a><span class="pun">(</span><span class="pln">captureSuccess</span><span class="pun">,</span><span class="pln"> captureError</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">limit</span><span class="pun">:</span><span class="lit">2</span><span class="pun">});</span><span class="pln"><br></span></code></pre>

<h2>
<a name="capture.captureImage_full_example">Full Example</a>
</h2>

<pre class="prettyprint"><code><span class="dec">&lt;!DOCTYPE html&gt;</span><span class="pln"><br></span><span class="tag">&lt;html&gt;</span><span class="pln"><br>&nbsp; </span><span class="tag">&lt;head&gt;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="tag">&lt;title&gt;</span><a href="cordova_media_capture_capture.md.html#Capture"><span class="pln">Capture</span></a><span class="pln"> Image</span><span class="tag">&lt;/title&gt;</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"text/javascript"</span><span class="pln"> </span><span class="atn">charset</span><span class="pun">=</span><span class="atv">"utf-8"</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"cordova-x.x.x.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"text/javascript"</span><span class="pln"> </span><span class="atn">charset</span><span class="pun">=</span><span class="atv">"utf-8"</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"json2.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"text/javascript"</span><span class="pln"> </span><span class="atn">charset</span><span class="pun">=</span><span class="atv">"utf-8"</span><span class="tag">&gt;</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// Called when capture operation is finished</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="com">//</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">function</span><span class="pln"> captureSuccess</span><span class="pun">(</span><span class="pln">mediaFiles</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">var</span><span class="pln"> i</span><span class="pun">,</span><span class="pln"> len</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="pln">i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> len </span><span class="pun">=</span><span class="pln"> mediaFiles</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> len</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">+=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; uploadFile</span><span class="pun">(</span><span class="pln">mediaFiles</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"> &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// Called if something bad happens.</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="com">// </span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">function</span><span class="pln"> captureError</span><span class="pun">(</span><span class="pln">error</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">var</span><span class="pln"> msg </span><span class="pun">=</span><span class="pln"> </span><span class="str">'An error occurred during capture: '</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> error</span><span class="pun">.</span><span class="pln">code</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; navigator</span><span class="pun">.</span><a href="cordova_notification_notification.md.html#notification.alert"><span class="pln">notification</span><span class="pun">.</span><span class="pln">alert</span></a><span class="pun">(</span><span class="pln">msg</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="str">'Uh oh!'</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// A button will call this function</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="com">//</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">function</span><span class="pln"> captureImage</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Launch device camera application, </span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// allowing user to capture up to 2 images</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; navigator</span><span class="pun">.</span><span class="pln">device</span><span class="pun">.</span><a href="cordova_media_capture_capture.md.html#capture.captureImage"><span class="pln">capture</span><span class="pun">.</span><span class="pln">captureImage</span></a><span class="pun">(</span><span class="pln">captureSuccess</span><span class="pun">,</span><span class="pln"> captureError</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">limit</span><span class="pun">:</span><span class="pln"> </span><span class="lit">2</span><span class="pun">});</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// Upload files to server</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">function</span><span class="pln"> uploadFile</span><span class="pun">(</span><span class="pln">mediaFile</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">var</span><span class="pln"> ft </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><a href="cordova_file_file.md.html#FileTransfer"><span class="typ">FileTransfer</span></a><span class="pun">(),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; path </span><span class="pun">=</span><span class="pln"> mediaFile</span><span class="pun">.</span><span class="pln">fullPath</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; name </span><span class="pun">=</span><span class="pln"> mediaFile</span><span class="pun">.</span><span class="pln">name</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; ft</span><span class="pun">.</span><span class="pln">upload</span><span class="pun">(</span><span class="pln">path</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="str">"http://my.domain.com/upload.php"</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">result</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">'Upload success: '</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> result</span><span class="pun">.</span><span class="pln">responseCode</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">result</span><span class="pun">.</span><span class="pln">bytesSent </span><span class="pun">+</span><span class="pln"> </span><span class="str">' bytes sent'</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">},</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">error</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">'Error uploading file '</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> path </span><span class="pun">+</span><span class="pln"> </span><span class="str">': '</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> error</span><span class="pun">.</span><span class="pln">code</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">},</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"> fileName</span><span class="pun">:</span><span class="pln"> name </span><span class="pun">});</span><span class="pln"> &nbsp; <br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="tag">&lt;/script&gt;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="tag">&lt;/head&gt;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="tag">&lt;body&gt;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="tag">&lt;button</span><span class="pln"> </span><span class="atn">onclick</span><span class="pun">=</span><span class="atv">"</span><span class="pln">captureImage</span><span class="pun">();</span><span class="atv">"</span><span class="tag">&gt;</span><a href="cordova_media_capture_capture.md.html#Capture"><span class="pln">Capture</span></a><span class="pln"> Image</span><span class="tag">&lt;/button&gt;</span><span class="pln"> </span><span class="tag">&lt;br&gt;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="tag">&lt;/body&gt;</span><span class="pln"><br></span><span class="tag">&lt;/html&gt;</span><span class="pln"><br></span></code></pre>

<h2>
<a name="capture.captureImage_bada_quirks">Bada Quirks</a>
</h2>

<p>Bada supports <em>captureImage</em> just like the other platforms. However there is <em>another</em> mode where you can capture a video or an image straight in the webview without launching any camera app. In order to do that you need to:</p>

<ol>
<li>
<p>create a <em>&lt;div&gt;</em> element somewhere in your document and give it an id (such as "preview"). </p>

<pre class="prettyprint"><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">id</span><span class="pun">=</span><span class="atv">"preview"</span><span class="tag">&gt;&lt;/div&gt;</span><span class="pln"><br></span></code></pre>
</li>
<li>
<p>Initialize the camera preview with the following method</p>

<pre class="prettyprint"><code><span class="pln">navigator</span><span class="pun">.</span><span class="pln">camera</span><span class="pun">.</span><span class="pln">showPreview</span><span class="pun">(</span><span class="str">"preview"</span><span class="pun">);</span><span class="pln"><br></span></code></pre>
</li>
<li>
<p>Once you get the preview you can</p>

<p>3.1 <a href="cordova_media_capture_capture.md.html#Capture">Capture</a> an image with</p>

<pre class="prettyprint"><code><span class="kwd">var</span><span class="pln"> options </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> destinationFilename</span><span class="pun">:</span><span class="pln"> </span><span class="str">"images/cam01.jpg"</span><span class="pun">,</span><span class="pln"> highRes</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">};</span><span class="pln"><br>navigator</span><span class="pun">.</span><a href="cordova_media_capture_capture.md.html#capture.captureImage"><span class="pln">capture</span><span class="pun">.</span><span class="pln">captureImage</span></a><span class="pun">(</span><span class="pln">success</span><span class="pun">,</span><span class="pln"> fail</span><span class="pun">,</span><span class="pln"> options</span><span class="pun">);</span><span class="pln"><br></span></code></pre>
</li>
<li>
<p>Hide the camera preview with the following method</p>

<pre class="prettyprint"><code><span class="pln">navigator</span><span class="pun">.</span><span class="pln">camera</span><span class="pun">.</span><span class="pln">hidePreview</span><span class="pun">(</span><span class="str">"preview"</span><span class="pun">);</span><span class="pln"><br></span></code></pre>
</li>
</ol>
<hr>
<h1><a name="CaptureImageOptions">CaptureImageOptions</a></h1>

<blockquote>
  <p>Encapsulates image capture configuration options.</p>
</blockquote>

<h2>
<a name="CaptureImageOptions_properties">Properties</a>
</h2>

<ul>
<li>
<strong>limit:</strong> The maximum number of images the device user can capture in a single capture operation.  The value must be greater than or equal to 1 (defaults to 1).</li>
</ul>
<h2>
<a name="CaptureImageOptions_quick_example">Quick Example</a>
</h2>

<pre class="prettyprint"><code><span class="com">// limit capture operation to 3 images</span><span class="pln"><br></span><span class="kwd">var</span><span class="pln"> options </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> limit</span><span class="pun">:</span><span class="pln"> </span><span class="lit">3</span><span class="pln"> </span><span class="pun">};</span><span class="pln"><br><br>navigator</span><span class="pun">.</span><span class="pln">device</span><span class="pun">.</span><a href="cordova_media_capture_capture.md.html#capture.captureImage"><span class="pln">capture</span><span class="pun">.</span><span class="pln">captureImage</span></a><span class="pun">(</span><span class="pln">captureSuccess</span><span class="pun">,</span><span class="pln"> captureError</span><span class="pun">,</span><span class="pln"> options</span><span class="pun">);</span><span class="pln"><br></span></code></pre>

<h2>
<a name="CaptureImageOptions_ios_quirks">iOS Quirks</a>
</h2>

<ul>
<li>The <strong>limit</strong> parameter is not supported. One image is taken per invocation.</li>
</ul>
<hr>
<h1><a name="capture.captureVideo">capture.captureVideo</a></h1>

<blockquote>
  <p>Start the video recorder application and return information about captured video clip file(s).</p>
</blockquote>

<pre class="prettyprint"><code><span class="pln">navigator</span><span class="pun">.</span><span class="pln">device</span><span class="pun">.</span><a href="cordova_media_capture_capture.md.html#capture.captureVideo"><span class="pln">capture</span><span class="pun">.</span><span class="pln">captureVideo</span></a><span class="pun">(</span><span class="pln"> <br>&nbsp; &nbsp; </span><a href="cordova_media_capture_capture.md.html#CaptureCB"><span class="typ">CaptureCB</span></a><span class="pln"> captureSuccess</span><span class="pun">,</span><span class="pln"> </span><a href="cordova_media_capture_capture.md.html#CaptureErrorCB"><span class="typ">CaptureErrorCB</span></a><span class="pln"> captureError</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><a href="cordova_media_capture_capture.md.html#CaptureVideoOptions"><span class="typ">CaptureVideoOptions</span></a><span class="pln"> options</span><span class="pun">]</span><span class="pln"><br></span><span class="pun">);</span><span class="pln"><br></span></code></pre>

<h2>
<a name="capture.captureVideo_description">Description</a>
</h2>

<p>This method starts an asynchronous operation to capture video recordings using the device video recording application.  The operation allows the device user to capture multiple recordings in a single session.</p>

<p>The capture operation ends when either the user exits the video recording application, or the maximum number of recordings, specified by the <strong>limit</strong> parameter in <a href="cordova_media_capture_capture.md.html#CaptureVideoOptions">CaptureVideoOptions</a>, has been reached.  If no value is provided for the <strong>limit</strong> parameter, a default value of one (1) is used, and the capture operation will terminate after the user records a single video clip.</p>

<p>When the capture operation is finished, it will invoke the <a href="cordova_media_capture_capture.md.html#CaptureCB">CaptureCB</a> callback with an array of <a href="cordova_media_capture_capture.md.html#MediaFile">MediaFile</a> objects describing each captured video clip file.  If the operation is terminated by the user before an video clip is captured, the <a href="cordova_media_capture_capture.md.html#CaptureErrorCB">CaptureErrorCB</a> callback will be invoked with a <a href="cordova_media_capture_capture.md.html#CaptureError">CaptureError</a> object with the <a href="cordova_media_capture_capture.md.html#CaptureError">CaptureError</a>.<code>CAPTURE_NO_MEDIA_FILES</code> error code.</p>

<h2>
<a name="capture.captureVideo_supported_platforms">Supported Platforms</a>
</h2>

<ul>
<li>Android</li>
<li>BlackBerry WebWorks (OS 5.0 and higher)</li>
<li>iOS</li>
<li>Windows Phone 7 and 8</li>
<li>Bada 2.x</li>
<li>Windows 8</li>
</ul>
<h2>
<a name="capture.captureVideo_quick_example">Quick Example</a>
</h2>

<pre class="prettyprint"><code><span class="com">// capture callback</span><span class="pln"><br></span><span class="kwd">var</span><span class="pln"> captureSuccess </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">mediaFiles</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">var</span><span class="pln"> i</span><span class="pun">,</span><span class="pln"> path</span><span class="pun">,</span><span class="pln"> len</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="pln">i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> len </span><span class="pun">=</span><span class="pln"> mediaFiles</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> len</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">+=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; path </span><span class="pun">=</span><span class="pln"> mediaFiles</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">fullPath</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// do something interesting with the file</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">};</span><span class="pln"><br><br></span><span class="com">// capture error callback</span><span class="pln"><br></span><span class="kwd">var</span><span class="pln"> captureError </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">error</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; navigator</span><span class="pun">.</span><a href="cordova_notification_notification.md.html#notification.alert"><span class="pln">notification</span><span class="pun">.</span><span class="pln">alert</span></a><span class="pun">(</span><span class="str">'Error code: '</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> error</span><span class="pun">.</span><span class="pln">code</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="str">'</span><a href="cordova_media_capture_capture.md.html#Capture"><span class="str">Capture</span></a><span class="str"> Error'</span><span class="pun">);</span><span class="pln"><br></span><span class="pun">};</span><span class="pln"><br><br></span><span class="com">// start video capture</span><span class="pln"><br>navigator</span><span class="pun">.</span><span class="pln">device</span><span class="pun">.</span><a href="cordova_media_capture_capture.md.html#capture.captureVideo"><span class="pln">capture</span><span class="pun">.</span><span class="pln">captureVideo</span></a><span class="pun">(</span><span class="pln">captureSuccess</span><span class="pun">,</span><span class="pln"> captureError</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">limit</span><span class="pun">:</span><span class="lit">2</span><span class="pun">});</span><span class="pln"><br></span></code></pre>

<h2>
<a name="capture.captureVideo_full_example">Full Example</a>
</h2>

<pre class="prettyprint"><code><span class="dec">&lt;!DOCTYPE html&gt;</span><span class="pln"><br></span><span class="tag">&lt;html&gt;</span><span class="pln"><br>&nbsp; </span><span class="tag">&lt;head&gt;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="tag">&lt;title&gt;</span><a href="cordova_media_capture_capture.md.html#Capture"><span class="pln">Capture</span></a><span class="pln"> Video</span><span class="tag">&lt;/title&gt;</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"text/javascript"</span><span class="pln"> </span><span class="atn">charset</span><span class="pun">=</span><span class="atv">"utf-8"</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"cordova-x.x.x.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"text/javascript"</span><span class="pln"> </span><span class="atn">charset</span><span class="pun">=</span><span class="atv">"utf-8"</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"json2.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"text/javascript"</span><span class="pln"> </span><span class="atn">charset</span><span class="pun">=</span><span class="atv">"utf-8"</span><span class="tag">&gt;</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// Called when capture operation is finished</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="com">//</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">function</span><span class="pln"> captureSuccess</span><span class="pun">(</span><span class="pln">mediaFiles</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">var</span><span class="pln"> i</span><span class="pun">,</span><span class="pln"> len</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="pln">i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> len </span><span class="pun">=</span><span class="pln"> mediaFiles</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> len</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">+=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; uploadFile</span><span class="pun">(</span><span class="pln">mediaFiles</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"> &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// Called if something bad happens.</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="com">// </span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">function</span><span class="pln"> captureError</span><span class="pun">(</span><span class="pln">error</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">var</span><span class="pln"> msg </span><span class="pun">=</span><span class="pln"> </span><span class="str">'An error occurred during capture: '</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> error</span><span class="pun">.</span><span class="pln">code</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; navigator</span><span class="pun">.</span><a href="cordova_notification_notification.md.html#notification.alert"><span class="pln">notification</span><span class="pun">.</span><span class="pln">alert</span></a><span class="pun">(</span><span class="pln">msg</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="str">'Uh oh!'</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// A button will call this function</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="com">//</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">function</span><span class="pln"> captureVideo</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Launch device video recording application, </span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// allowing user to capture up to 2 video clips</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; navigator</span><span class="pun">.</span><span class="pln">device</span><span class="pun">.</span><a href="cordova_media_capture_capture.md.html#capture.captureVideo"><span class="pln">capture</span><span class="pun">.</span><span class="pln">captureVideo</span></a><span class="pun">(</span><span class="pln">captureSuccess</span><span class="pun">,</span><span class="pln"> captureError</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">limit</span><span class="pun">:</span><span class="pln"> </span><span class="lit">2</span><span class="pun">});</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">// Upload files to server</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">function</span><span class="pln"> uploadFile</span><span class="pun">(</span><span class="pln">mediaFile</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">var</span><span class="pln"> ft </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><a href="cordova_file_file.md.html#FileTransfer"><span class="typ">FileTransfer</span></a><span class="pun">(),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; path </span><span class="pun">=</span><span class="pln"> mediaFile</span><span class="pun">.</span><span class="pln">fullPath</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; name </span><span class="pun">=</span><span class="pln"> mediaFile</span><span class="pun">.</span><span class="pln">name</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; ft</span><span class="pun">.</span><span class="pln">upload</span><span class="pun">(</span><span class="pln">path</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="str">"http://my.domain.com/upload.php"</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">result</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">'Upload success: '</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> result</span><span class="pun">.</span><span class="pln">responseCode</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">result</span><span class="pun">.</span><span class="pln">bytesSent </span><span class="pun">+</span><span class="pln"> </span><span class="str">' bytes sent'</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">},</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">error</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">'Error uploading file '</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> path </span><span class="pun">+</span><span class="pln"> </span><span class="str">': '</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> error</span><span class="pun">.</span><span class="pln">code</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">},</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"> fileName</span><span class="pun">:</span><span class="pln"> name </span><span class="pun">});</span><span class="pln"> &nbsp; <br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="tag">&lt;/script&gt;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="tag">&lt;/head&gt;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="tag">&lt;body&gt;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="tag">&lt;button</span><span class="pln"> </span><span class="atn">onclick</span><span class="pun">=</span><span class="atv">"</span><span class="pln">captureVideo</span><span class="pun">();</span><span class="atv">"</span><span class="tag">&gt;</span><a href="cordova_media_capture_capture.md.html#Capture"><span class="pln">Capture</span></a><span class="pln"> Video</span><span class="tag">&lt;/button&gt;</span><span class="pln"> </span><span class="tag">&lt;br&gt;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="tag">&lt;/body&gt;</span><span class="pln"><br></span><span class="tag">&lt;/html&gt;</span><span class="pln"><br></span></code></pre>

<h2>
<a name="capture.captureVideo_blackberry_webworks_quirks">BlackBerry WebWorks Quirks</a>
</h2>

<ul>
<li>Cordova for BlackBerry WebWorks attempts to launch the <strong>Video Recorder</strong> application, provided by RIM, to capture the video recordings.  The developer will receive a <a href="cordova_media_capture_capture.md.html#CaptureError">CaptureError</a>.<code>CAPTURE_NOT_SUPPORTED</code> error code if the application is not installed on the device.</li>
</ul>
<h2>
<a name="capture.captureVideo_bada_2_x_quirks">Bada 2.x Quirks</a>
</h2>

<p>Bada supports <em>captureVideo</em> just like the other platforms. However there is <em>another</em> mode where you can capture a video or an image straight in the webview without launching any camera apps. In order to do that you need to:</p>

<ol>
<li>
<p>create a <em>&lt;div&gt;</em> element somewhere in your document and give it an id (such as "preview"). </p>

<pre class="prettyprint"><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">id</span><span class="pun">=</span><span class="atv">"preview"</span><span class="tag">&gt;&lt;/div&gt;</span><span class="pln"><br></span></code></pre>
</li>
<li>
<p>Initialize the camera preview with the following method</p>

<pre class="prettyprint"><code><span class="pln">navigator</span><span class="pun">.</span><span class="pln">camera</span><span class="pun">.</span><span class="pln">showPreview</span><span class="pun">(</span><span class="str">"preview"</span><span class="pun">);</span><span class="pln"><br></span></code></pre>
</li>
<li>
<p>Once you get the preview you can</p>

<p>3.1 Start capturing a video with</p>

<pre class="prettyprint"><code><span class="pln">navigator</span><span class="pun">.</span><span class="pln">capture</span><span class="pun">.</span><span class="pln">startVideoCapture</span><span class="pun">(</span><span class="pln">success</span><span class="pun">,</span><span class="pln"> fail</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">duration</span><span class="pun">:</span><span class="pln"> </span><span class="lit">5000</span><span class="pun">,</span><span class="pln"> destinationFilename</span><span class="pun">:</span><span class="pln"> </span><span class="str">"videos/a.3gp"</span><span class="pun">});</span><span class="pln"><br></span></code></pre>

<p>3.2 Stop the video capture with</p>

<pre class="prettyprint"><code><span class="pln">navigator</span><span class="pun">.</span><span class="pln">capture</span><span class="pun">.</span><span class="pln">stopVideoCapture</span><span class="pun">();</span><span class="pln"><br></span></code></pre>
</li>
<li>
<p>Hide the camera preview with the following method</p>

<pre class="prettyprint"><code><span class="pln">navigator</span><span class="pun">.</span><span class="pln">camera</span><span class="pun">.</span><span class="pln">hidePreview</span><span class="pun">(</span><span class="str">"preview"</span><span class="pun">);</span><span class="pln"><br></span></code></pre>
</li>
</ol>
<hr>
<h1><a name="CaptureVideoOptions">CaptureVideoOptions</a></h1>

<blockquote>
  <p>Encapsulates video capture configuration options.</p>
</blockquote>

<h2>
<a name="CaptureVideoOptions_properties">Properties</a>
</h2>

<ul>
<li>
<strong>limit:</strong> The maximum number of video clips the device user can capture in a single capture operation.  The value must be greater than or equal to 1 (defaults to 1).</li>
<li>
<strong>duration:</strong> The maximum duration of a video clip, in seconds.</li>
</ul>
<h2>
<a name="CaptureVideoOptions_quick_example">Quick Example</a>
</h2>

<pre class="prettyprint"><code><span class="com">// limit capture operation to 3 video clips</span><span class="pln"><br></span><span class="kwd">var</span><span class="pln"> options </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> limit</span><span class="pun">:</span><span class="pln"> </span><span class="lit">3</span><span class="pln"> </span><span class="pun">};</span><span class="pln"><br><br>navigator</span><span class="pun">.</span><span class="pln">device</span><span class="pun">.</span><a href="cordova_media_capture_capture.md.html#capture.captureVideo"><span class="pln">capture</span><span class="pun">.</span><span class="pln">captureVideo</span></a><span class="pun">(</span><span class="pln">captureSuccess</span><span class="pun">,</span><span class="pln"> captureError</span><span class="pun">,</span><span class="pln"> options</span><span class="pun">);</span><span class="pln"><br></span></code></pre>

<h2>
<a name="CaptureVideoOptions_blackberry_webworks_quirks">BlackBerry WebWorks Quirks</a>
</h2>

<ul>
<li>The <strong>duration</strong> parameter is not supported.  Recording lengths cannot be limited programmatically.</li>
</ul>
<h2>
<a name="CaptureVideoOptions_ios_quirks">iOS Quirks</a>
</h2>

<ul>
<li>The <strong>limit</strong> parameter is not supported.  One video is recorded per invocation.</li>
<li>The <strong>duration</strong> parameter is not supported.  Recording lengths cannot be limited programmatically.</li>
</ul>
<hr>
<h1><a name="CaptureError">CaptureError</a></h1>

<blockquote>
  <p>Encapsulates the error code resulting from a failed media capture operation.</p>
</blockquote>

<h2>
<a name="CaptureError_properties">Properties</a>
</h2>

<ul>
<li>
<strong>code:</strong> One of the pre-defined error codes listed below.</li>
</ul>
<h2>
<a name="CaptureError_constants">Constants</a>
</h2>

<ul>
<li>
<a href="cordova_media_capture_capture.md.html#CaptureError">CaptureError</a>.<code>CAPTURE_INTERNAL_ERR</code>: <a href="cordova_camera_camera.md.html#Camera">Camera</a> or microphone failed to capture image or sound. </li>
<li>
<a href="cordova_media_capture_capture.md.html#CaptureError">CaptureError</a>.<code>CAPTURE_APPLICATION_BUSY</code>: <a href="cordova_camera_camera.md.html#Camera">Camera</a> application or audio capture application is currently serving other capture request.</li>
<li>
<a href="cordova_media_capture_capture.md.html#CaptureError">CaptureError</a>.<code>CAPTURE_INVALID_ARGUMENT</code>: Invalid use of the API (e.g. limit parameter has value less than one).</li>
<li>
<a href="cordova_media_capture_capture.md.html#CaptureError">CaptureError</a>.<code>CAPTURE_NO_MEDIA_FILES</code>: User exited camera application or audio capture application before capturing anything.</li>
<li>
<a href="cordova_media_capture_capture.md.html#CaptureError">CaptureError</a>.<code>CAPTURE_NOT_SUPPORTED</code>: The requested capture operation is not supported.</li>
</ul>
<hr>
<h1><a name="CaptureCB">CaptureCB</a></h1>

<blockquote>
  <p>Invoked upon a successful media capture operation.</p>
</blockquote>

<pre class="prettyprint"><code><span class="kwd">function</span><span class="pln"> captureSuccess</span><span class="pun">(</span><span class="pln"> </span><a href="cordova_media_capture_capture.md.html#MediaFile"><span class="typ">MediaFile</span></a><span class="pun">[]</span><span class="pln"> mediaFiles </span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">...</span><span class="pln"> </span><span class="pun">};</span><span class="pln"><br></span></code></pre>

<h2>
<a name="CaptureCB_description">Description</a>
</h2>

<p>This function is invoked after a successful capture operation has completed.  This means a media file has been captured, and either the user has exited the media capture application, or the capture limit has been reached.</p>

<p>Each <a href="cordova_media_capture_capture.md.html#MediaFile">MediaFile</a> object describes a captured media file.  </p>

<h2>
<a name="CaptureCB_quick_example">Quick Example</a>
</h2>

<pre class="prettyprint"><code><span class="com">// capture callback</span><span class="pln"><br></span><span class="kwd">function</span><span class="pln"> captureSuccess</span><span class="pun">(</span><span class="pln">mediaFiles</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">var</span><span class="pln"> i</span><span class="pun">,</span><span class="pln"> path</span><span class="pun">,</span><span class="pln"> len</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="pln">i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> len </span><span class="pun">=</span><span class="pln"> mediaFiles</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> len</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">+=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; path </span><span class="pun">=</span><span class="pln"> mediaFiles</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">fullPath</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// do something interesting with the file</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">};</span><span class="pln"><br></span></code></pre>

<hr>
<h1><a name="CaptureErrorCB">CaptureErrorCB</a></h1>

<blockquote>
  <p>Invoked if an error occurs during a media capture operation.</p>
</blockquote>

<pre class="prettyprint"><code><span class="kwd">function</span><span class="pln"> captureError</span><span class="pun">(</span><span class="pln"> </span><a href="cordova_media_capture_capture.md.html#CaptureError"><span class="typ">CaptureError</span></a><span class="pln"> error </span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">...</span><span class="pln"> </span><span class="pun">};</span><span class="pln"><br></span></code></pre>

<h2>
<a name="CaptureErrorCB_description">Description</a>
</h2>

<p>This function is invoked if an error occurs when trying to launch a media capture operation and the capture application is busy, if an error occurs while the capture operation is taking place, or if the capture operation has been canceled by the user before any media files have been captured.</p>

<p>This function is invoked with a <a href="cordova_media_capture_capture.md.html#CaptureError">CaptureError</a> object containing an appropriate error code.</p>

<h2>
<a name="CaptureErrorCB_quick_example">Quick Example</a>
</h2>

<pre class="prettyprint"><code><span class="com">// capture error callback</span><span class="pln"><br></span><span class="kwd">var</span><span class="pln"> captureError </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">error</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; navigator</span><span class="pun">.</span><a href="cordova_notification_notification.md.html#notification.alert"><span class="pln">notification</span><span class="pun">.</span><span class="pln">alert</span></a><span class="pun">(</span><span class="str">'Error code: '</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> error</span><span class="pun">.</span><span class="pln">code</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="str">'</span><a href="cordova_media_capture_capture.md.html#Capture"><span class="str">Capture</span></a><span class="str"> Error'</span><span class="pun">);</span><span class="pln"><br></span><span class="pun">};</span><span class="pln"><br></span></code></pre>

<hr>
<h1><a name="ConfigurationData">ConfigurationData</a></h1>

<blockquote>
  <p>Encapsulates a set of media capture parameters that a device supports.</p>
</blockquote>

<h2>
<a name="ConfigurationData_description">Description</a>
</h2>

<p>This object is used to describe media capture modes supported by the device.  The configuration data includes the MIME type, and capture dimensions (for video or image capture).  </p>

<p>The MIME types should adhere to <a class="external" href="http://www.ietf.org/rfc/rfc2046.txt">RFC2046</a>.  Examples:</p>

<ul>
<li>video/3gpp</li>
<li>video/quicktime</li>
<li>image/jpeg</li>
<li>audio/amr</li>
<li>audio/wav </li>
</ul>
<h2>
<a name="ConfigurationData_properties">Properties</a>
</h2>

<ul>
<li>
<strong>type:</strong> The ASCII-encoded string in lower case representing the media type. (DOMString)</li>
<li>
<strong>height:</strong> The height of the image or video in pixels.  In the case of a sound clip, this attribute has value 0. (Number)</li>
<li>
<strong>width:</strong> The width of the image or video in pixels.  In the case of a sound clip, this attribute has value 0. (Number)</li>
</ul>
<h2>
<a name="ConfigurationData_quick_example">Quick Example</a>
</h2>

<pre class="prettyprint"><code><span class="com">// retrieve supported image modes</span><span class="pln"><br></span><span class="kwd">var</span><span class="pln"> imageModes </span><span class="pun">=</span><span class="pln"> navigator</span><span class="pun">.</span><span class="pln">device</span><span class="pun">.</span><span class="pln">capture</span><span class="pun">.</span><span class="pln">supportedImageModes</span><span class="pun">;</span><span class="pln"><br><br></span><span class="com">// Select mode that has the highest horizontal resolution</span><span class="pln"><br></span><span class="kwd">var</span><span class="pln"> width </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"><br></span><span class="kwd">var</span><span class="pln"> selectedmode</span><span class="pun">;</span><span class="pln"><br></span><span class="kwd">for</span><span class="pln"> each </span><span class="pun">(</span><span class="kwd">var</span><span class="pln"> mode </span><span class="kwd">in</span><span class="pln"> imageModes</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">mode</span><span class="pun">.</span><span class="pln">width </span><span class="pun">&gt;</span><span class="pln"> width</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; width </span><span class="pun">=</span><span class="pln"> mode</span><span class="pun">.</span><span class="pln">width</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; selectedmode </span><span class="pun">=</span><span class="pln"> mode</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br></span></code></pre>

<p>Not supported by any platform.  All configuration data arrays are empty.</p>

<hr>
<h1><a name="MediaFile">MediaFile</a></h1>

<blockquote>
  <p>Encapsulates properties of a media capture file.</p>
</blockquote>

<h2>
<a name="MediaFile_properties">Properties</a>
</h2>

<ul>
<li>
<strong>name:</strong> The name of the file, without path information. (DOMString)</li>
<li>
<strong>fullPath:</strong> The full path of the file, including the name. (DOMString)</li>
<li>
<strong>type:</strong> The mime type (DOMString)</li>
<li>
<strong>lastModifiedDate:</strong> The date and time that the file was last modified. (Date)</li>
<li>
<strong>size:</strong> The size of the file, in bytes. (Number)</li>
</ul>
<h2>
<a name="MediaFile_methods">Methods</a>
</h2>

<ul>
<li>
<strong><a href="cordova_media_capture_capture.md.html#MediaFile.getFormatData">MediaFile.getFormatData</a>:</strong> Retrieves the format information of the media file.</li>
</ul>
<hr>
<h1><a name="MediaFile.getFormatData">MediaFile.getFormatData</a></h1>

<blockquote>
  <p>Retrieves format information about the media capture file.</p>
</blockquote>

<pre class="prettyprint"><code><span class="pln">mediaFile</span><span class="pun">.</span><span class="pln">getFormatData</span><span class="pun">(</span><span class="pln"> <br>&nbsp; &nbsp; </span><span class="typ">MediaFileDataSuccessCB</span><span class="pln"> successCallback</span><span class="pun">,</span><span class="pln"> <br>&nbsp; &nbsp; </span><span class="pun">[</span><span class="typ">MediaFileDataErrorCB</span><span class="pln"> errorCallback</span><span class="pun">]</span><span class="pln"><br></span><span class="pun">);</span><span class="pln"><br></span></code></pre>

<h2>
<a name="MediaFile.getFormatData_description">Description</a>
</h2>

<p>This function asynchronously attempts to retrieve the format information for the media file.  If successful, it invokes the MediaFileDataSuccessCB callback with a <a href="cordova_media_capture_capture.md.html#MediaFileData">MediaFileData</a> object.  If the attempt fails, this function will invoke the MediaFileDataErrorCB callback.</p>

<h2>
<a name="MediaFile.getFormatData_supported_platforms">Supported Platforms</a>
</h2>

<ul>
<li>Android</li>
<li>BlackBerry WebWorks (OS 5.0 and higher)</li>
<li>iOS</li>
<li>Windows Phone 7 and 8</li>
<li>Windows 8</li>
</ul>
<h2>
<a name="MediaFile.getFormatData_blackberry_webworks_quirks">BlackBerry WebWorks Quirks</a>
</h2>

<p>There is no API that provides format information of media files.  Therefore, all <a href="cordova_media_capture_capture.md.html#MediaFileData">MediaFileData</a> objects will be returned with default values.  See <a href="cordova_media_capture_capture.md.html#MediaFileData">MediaFileData</a> documentation.</p>

<h2>
<a name="MediaFile.getFormatData_android_quirks">Android Quirks</a>
</h2>

<p>The API for retrieving media file format information is limited.  Therefore, not all <a href="cordova_media_capture_capture.md.html#MediaFileData">MediaFileData</a> properties are supported.  See <a href="cordova_media_capture_capture.md.html#MediaFileData">MediaFileData</a> documentation.</p>

<h2>
<a name="MediaFile.getFormatData_ios_quirks">iOS Quirks</a>
</h2>

<p>The API for retrieving media file format information is limited.  Therefore, not all <a href="cordova_media_capture_capture.md.html#MediaFileData">MediaFileData</a> properties are supported.  See <a href="cordova_media_capture_capture.md.html#MediaFileData">MediaFileData</a> documentation.</p>

<hr>
<h1><a name="MediaFileData">MediaFileData</a></h1>

<blockquote>
  <p>Encapsulates format information about a media file.</p>
</blockquote>

<h2>
<a name="MediaFileData_properties">Properties</a>
</h2>

<ul>
<li>
<strong>codecs:</strong> The actual format of the audio and video content. (DOMString)</li>
<li>
<strong>bitrate:</strong> The average bitrate of the content.  In case of an image, this attribute has value 0. (Number)</li>
<li>
<strong>height:</strong> The height of the image or video in pixels. In the case of a sound clip, this attribute has value 0. (Number)</li>
<li>
<strong>width:</strong> The width of the image or video in pixels. In the case of a sound clip, this attribute has value 0. (Number)</li>
<li>
<strong>duration:</strong> The length of the video or sound clip in seconds. In the case of an image, this attribute has value 0. (Number)</li>
</ul>
<h2>
<a name="MediaFileData_blackberry_webworks_quirks">BlackBerry WebWorks Quirks</a>
</h2>

<p>There is no API that provides format information of media files.  So the <a href="cordova_media_capture_capture.md.html#MediaFileData">MediaFileData</a> object returned by the <a href="cordova_media_capture_capture.md.html#MediaFile.getFormatData">MediaFile.getFormatData</a> function will have the following default values:</p>

<ul>
<li>
<strong>codecs:</strong> Not supported. The attribute will always be null.</li>
<li>
<strong>bitrate:</strong> Not supported.  The attribute will always be 0.</li>
<li>
<strong>height:</strong> Not supported.  The attribute will always be 0.</li>
<li>
<strong>width:</strong> Not supported.  The attribute will always be 0.</li>
<li>
<strong>duration:</strong> Not supported.  The attribute will always be 0.</li>
</ul>
<h2>
<a name="MediaFileData_android_quirks">Android Quirks</a>
</h2>

<p>Support for the <a href="cordova_media_capture_capture.md.html#MediaFileData">MediaFileData</a> properties is as follows:</p>

<ul>
<li>
<strong>codecs:</strong> Not supported.  The attribute will always be null.</li>
<li>
<strong>bitrate:</strong> Not supported.  The attribute will always be 0.</li>
<li>
<strong>height:</strong> Supported.  (Image and video files only).  </li>
<li>
<strong>width:</strong> Supported.  (Image and video files only). </li>
<li>
<strong>duration:</strong> Supported.  (Audio and video files only).</li>
</ul>
<h2>
<a name="MediaFileData_ios_quirks">iOS Quirks</a>
</h2>

<p>Support for the <a href="cordova_media_capture_capture.md.html#MediaFileData">MediaFileData</a> properties is as follows:</p>

<ul>
<li>
<strong>codecs:</strong> Not supported.  The attribute will always be null.</li>
<li>
<strong>bitrate:</strong> Supported on iOS4 devices for audio only. The attribute will always be 0 for image and video.</li>
<li>
<strong>height:</strong> Supported.  (Image and video files only).  </li>
<li>
<strong>width:</strong> Supported.  (Image and video files only). </li>
<li>
<strong>duration:</strong> Supported.  (Audio and video files only).</li>
</ul>
</div>
        </div>

        <script type="text/javascript" src="../lib/iscroll.js"></script>
        <script type="text/javascript" src="index.js"></script>
        <script type="text/javascript" src="prettify/prettify.js"></script>
        <script type="text/javascript" src="doc.js"></script>
</body>
</html>
